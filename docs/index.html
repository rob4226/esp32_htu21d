<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>esp32_htu21d IDF Component: esp32_htu21d</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="htu21d-doxygen-pic-200x55px.png"/></td>
  <td id="projectalign">
   <div id="projectname">esp32_htu21d IDF Component<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">An ESP-IDF component to interface with the HTU21D humidity/temperature sensor on the I2C bus.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">esp32_htu21d </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> An esp-idf component to interface with the HTU21D humidity/temperature sensor on the I2C bus.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
How to Use</h1>
<p>You can add it to your project's <code>main/idf_component.yml</code> to have ESP-IDF manage it for you:</p>
<div class="fragment"><div class="line">dependencies:</div>
<div class="line">  esp32_htu21d:</div>
<div class="line">    git: https://github.com/rob4226/esp32_htu21d.git</div>
<div class="line">    # Or using SSH:</div>
<div class="line">    # git: git@github.com:rob4226/esp32_htu21d.git</div>
</div><!-- fragment --><p>Then you can include the header wherever you need it in your project:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="htu21d_8h.html">htu21d.h</a>&quot;</span></div>
<div class="ttc" id="ahtu21d_8h_html"><div class="ttname"><a href="htu21d_8h.html">htu21d.h</a></div><div class="ttdoc">HTU21D Sensor ESP-IDF Component header file.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#define I2C_SDA_PIN 1</span></div>
<div class="line"><span class="preprocessor">#define I2C_SCL_PIN 2</span></div>
<div class="line"> </div>
<div class="line">ESP_ERROR_CHECK(</div>
<div class="line">    <a class="code hl_function" href="htu21d_8c.html#ad051dbd53437a44c5d767b481a2c3f86">htu21d_init</a>(I2C_NUM_0, <a class="code hl_define" href="htu21d__calculations_8c.html#a2cade698267beb86ccaa38c14d35ab0f">I2C_SDA_PIN</a>, <a class="code hl_define" href="htu21d__calculations_8c.html#a0e4e08bab2fb484136d18b067bef372c">I2C_SCL_PIN</a>, GPIO_PULLUP_ENABLE, GPIO_PULLUP_ENABLE));</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span> (1) {</div>
<div class="line">  <span class="keywordtype">float</span> temp = <a class="code hl_function" href="htu21d_8c.html#a81b12a55ffcd34e96c8fce5028b180b3">htu21d_read_temperature</a>();</div>
<div class="line">  <span class="keywordtype">float</span> humidity = <a class="code hl_function" href="htu21d_8c.html#a6a22e7b10c2373f78b6933a55bd8ff43">htu21d_read_humidity</a>();</div>
<div class="line"> </div>
<div class="line">  printf(<span class="stringliteral">&quot;Temperature: %.02fÂ°C  Humidity: %.02f%%\n&quot;</span>, temp, humidity);</div>
<div class="line"> </div>
<div class="line">  vTaskDelay(pdMS_TO_TICKS(2000));</div>
<div class="line">}</div>
<div class="ttc" id="ahtu21d_8c_html_a6a22e7b10c2373f78b6933a55bd8ff43"><div class="ttname"><a href="htu21d_8c.html#a6a22e7b10c2373f78b6933a55bd8ff43">htu21d_read_humidity</a></div><div class="ttdeci">float htu21d_read_humidity()</div><div class="ttdoc">Read the relative humidity from the HTU21D sensor.</div><div class="ttdef"><b>Definition</b> <a href="htu21d_8c_source.html#l00130">htu21d.c:130</a></div></div>
<div class="ttc" id="ahtu21d_8c_html_a81b12a55ffcd34e96c8fce5028b180b3"><div class="ttname"><a href="htu21d_8c.html#a81b12a55ffcd34e96c8fce5028b180b3">htu21d_read_temperature</a></div><div class="ttdeci">float htu21d_read_temperature()</div><div class="ttdoc">Read the temperature from the HTU21D sensor.</div><div class="ttdef"><b>Definition</b> <a href="htu21d_8c_source.html#l00091">htu21d.c:91</a></div></div>
<div class="ttc" id="ahtu21d_8c_html_ad051dbd53437a44c5d767b481a2c3f86"><div class="ttname"><a href="htu21d_8c.html#ad051dbd53437a44c5d767b481a2c3f86">htu21d_init</a></div><div class="ttdeci">int htu21d_init(i2c_port_t port, int sda_pin, int scl_pin, gpio_pullup_t sda_internal_pullup, gpio_pullup_t scl_internal_pullup)</div><div class="ttdoc">Initializes the HTU21D temperature/humidity sensor and the I2C bus.</div><div class="ttdef"><b>Definition</b> <a href="htu21d_8c_source.html#l00041">htu21d.c:41</a></div></div>
<div class="ttc" id="ahtu21d__calculations_8c_html_a0e4e08bab2fb484136d18b067bef372c"><div class="ttname"><a href="htu21d__calculations_8c.html#a0e4e08bab2fb484136d18b067bef372c">I2C_SCL_PIN</a></div><div class="ttdeci">#define I2C_SCL_PIN</div><div class="ttdef"><b>Definition</b> <a href="htu21d__calculations_8c_source.html#l00017">htu21d_calculations.c:17</a></div></div>
<div class="ttc" id="ahtu21d__calculations_8c_html_a2cade698267beb86ccaa38c14d35ab0f"><div class="ttname"><a href="htu21d__calculations_8c.html#a2cade698267beb86ccaa38c14d35ab0f">I2C_SDA_PIN</a></div><div class="ttdeci">#define I2C_SDA_PIN</div><div class="ttdef"><b>Definition</b> <a href="htu21d__calculations_8c_source.html#l00016">htu21d_calculations.c:16</a></div></div>
</div><!-- fragment --><p>Also, see the example projects in the <a href="./examples">examples</a> directory of this repo.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
HTU21D Sensor</h1>
<p>The HTU21D sensor is a self-contained humidity and temperature sensor that is fully calibrated during manufacturing. The sensor can operate from 1.5V to 3.6V, has selectable resolution, low battery detection, and checksum capability. The HTU21D has a low current stand-by mode for power-sensitive applications.</p>
<p>This sensor is able to measure the ambient temperature and relative humidity.</p>
<p>The HTU21D sensor requires a voltage supply between 1.5V and 3.6V.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Measurement Resolutions</h2>
<p>The default resolution is set to 12-bit relative humidity and 14-bit temperature readings.</p>
<p>The following combinations of measurement resolutions can be selected:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Bit 7   </th><th class="markdownTableHeadNone">Bit 0   </th><th class="markdownTableHeadNone">RH   </th><th class="markdownTableHeadNone">Temp    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">12 bits   </td><td class="markdownTableBodyNone">14 bits    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">8 bits   </td><td class="markdownTableBodyNone">12 bits    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">10 bits   </td><td class="markdownTableBodyNone">13 bits    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">11 bits   </td><td class="markdownTableBodyNone">11 bits   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md13"></a>
Development/Contributing</h1>
<p>If you don't have the Python <code>pre-commit</code> package installed you can install it with <code>pip install pre-commit</code>.</p>
<div class="fragment"><div class="line">git clone https://github.com/rob4226/esp32_htu21d.git</div>
<div class="line"># Setup hooks in newly cloned repo&#39;s .git folder for stuff like formatting code</div>
<div class="line"># on commit, and checking for valid commit message format:</div>
<div class="line">pre-commit install -t pre-commit -t commit-msg</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
